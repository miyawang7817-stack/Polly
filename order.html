<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Align runtime config with other pages -->
  <meta name="polly-api-base" content="http://localhost:8788/">
  <meta name="polly-fallback-api-base" content="">
  <meta name="polly-google-redirect-uri" content="http://localhost:5500/">
  <title>My order - Polly</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/login.css">
  <!-- Design tokens for consistent theming -->
  <script src="js/figma_tokens.js" defer></script>
  <!-- Page-specific minimal styles for order list -->
  <style>
    .orders-section { padding: clamp(24px, 5vw, 48px) 0; }
    .orders-header { max-width: 1000px; margin: 0 auto; padding: 0 20px; }
    .orders-header h1 { font-size: clamp(24px, 4vw, 32px); font-weight: 700; margin: 0 0 16px; }
    .orders-list { max-width: 1000px; margin: 0 auto; padding: 0 20px; display: grid; gap: 20px; }
    .order-card { background: #fff; border-radius: 12px; box-shadow: 0 1px 0 rgba(0,0,0,0.08); padding: 24px; display: grid; grid-template-columns: 120px 1fr 180px; gap: 20px; align-items: center; }
    .order-left img { width: 120px; height: 120px; object-fit: cover; border-radius: 12px; background: #f4f6f8; }
    .order-title { font-size: 18px; font-weight: 700; margin: 0 0 6px; }
    .order-sub { color: rgba(0,0,0,0.6); font-size: 14px; margin: 0 0 12px; }
    .order-meta { display: flex; gap: 16px; color: rgba(0,0,0,0.7); font-size: 13px; }
    .order-right { text-align: right; }
    .order-right .row { display: flex; justify-content: space-between; gap: 12px; color: rgba(0,0,0,0.7); font-size: 14px; }
    .order-right .row + .row { margin-top: 8px; }
    .order-total { margin-top: 16px; font-weight: 700; font-size: 18px; }
    @media (max-width: 720px) { .order-card { grid-template-columns: 100px 1fr; } .order-right { grid-column: 1 / -1; } .order-left img { width: 100px; height: 100px; } }
  </style>
</head>
<body>
  <header>
    <nav>
      <a class="logo" href="index.html" aria-label="Polly home">
        <img src="assets/images/logo-modern.svg" alt="Polly logo" onerror="this.onerror=null; this.src='assets/images/logo.png';" />
        <span class="logo-text">Polly</span>
      </a>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="faq.html">FAQ</a></li>
        <li><a id="login-link" href="#">Login</a></li>
        <!-- User menu: shown after authentication -->
        <li id="user-menu" style="display:none; position:relative;">
          <button id="avatar-button" class="avatar-btn" aria-label="User menu">
            <img id="avatar-image" alt="User avatar" />
          </button>
          <div id="user-popover" class="user-popover" style="display:none;">
            <a id="menu-assets" class="popover-item" href="assets.html">
              <span class="popover-icon" aria-hidden="true">üë§</span>
              <span class="popover-text">My Assets</span>
            </a>
            <a id="menu-order" class="popover-item" href="order.html">
              <span class="popover-icon" aria-hidden="true">üßæ</span>
              <span class="popover-text">My order</span>
            </a>
            <button id="menu-signout" class="popover-item" type="button">
              <span class="popover-icon" aria-hidden="true">‚Ü©Ô∏è</span>
              <span class="popover-text">Sign out</span>
            </button>
          </div>
        </li>
      </ul>
    </nav>
  </header>

  <main class="container orders-section">
    <div class="orders-header">
      <h1>My order</h1>
    </div>
    <!-- Empty state and dynamic mount points -->
    <div id="orders-empty" class="orders-list" style="display:none;">
      <article class="order-card" style="grid-template-columns: 1fr; text-align:center;">
        <div style="padding: 12px; color: rgba(0,0,0,0.7);">
          No orders yet. After you place a print order, your orders will appear here.
        </div>
      </article>
    </div>
    <div id="orders-list" class="orders-list"></div>
  </main>

  <!-- Login modal reused across pages -->
  <div id="login-modal" class="modal" style="display:none;">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="login-title">
      <button id="login-close" class="modal-close" aria-label="Close">√ó</button>
      <h2 id="login-title">Login</h2>
      <div id="login-error" class="error" style="display:none;"></div>
      <div id="login-step-select">
        <p>Select a login method:</p>
        <div class="login-methods">
          <button id="select-email-or-phone" class="btn btn-secondary">Email / Phone</button>
          <button id="select-apple" class="btn btn-secondary">Sign in with Apple</button>
          <button id="select-google" class="btn btn-secondary">Sign in with Google</button>
        </div>
      </div>
      <div id="login-step-forms" style="display:none;">
        <button id="login-back" class="btn btn-text">‚Üê Back</button>
        <form id="login-form-password" style="display:none;">
          <label>Email</label>
          <input type="email" placeholder="you@example.com" required />
          <label>Password</label>
          <input type="password" required />
          <button type="submit" class="btn btn-primary">Login</button>
        </form>
        <div class="tabs">
          <button id="tab-email-otp" class="btn btn-text">Email OTP</button>
          <button id="tab-sms-otp" class="btn btn-text">SMS OTP</button>
        </div>
        <form id="login-form-email-otp" style="display:none;">
          <label>Email</label>
          <input type="email" placeholder="you@example.com" />
          <button type="submit" class="btn btn-primary">Send Code</button>
        </form>
        <form id="login-form-sms-otp" style="display:none;">
          <label>Phone</label>
          <input type="tel" placeholder="+1 555 0100" />
          <button type="submit" class="btn btn-primary">Send Code</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Config + shared auth/UI logic -->
  <script src="js/config.js" defer></script>
  <script src="js/main.js" defer></script>
  <script>
    (function(){
      try {
        if (window.location.hostname === 'localhost') {
          window.POLLY_GOOGLE_CLIENT_ID = '461513375444-op1d4mv4qtj3ccphlhln9prfgpa5ias3.apps.googleusercontent.com';
          window.POLLY_GOOGLE_FORCE_DIRECT = true;
          window.POLLY_GOOGLE_RESPONSE_TYPE = 'token id_token';
          window.POLLY_GOOGLE_SCOPE = 'openid email profile';
        }
      } catch(_){ }
    })();
  </script>
</body>
</html>