<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Google OAuth redirect override for local dev (must match client config) -->
  <meta name="polly-google-redirect-uri" content="http://localhost:5500/" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Privacy Policy - Polly 3D</title>
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/login.css" />
  <style>
    /* È°µÂ∫ïËÉåÊôØÊîπ‰∏∫‰ΩìÈ™åÂõæÔºå‰∏é FAQ ‰øùÊåÅ‰∏ÄËá¥ */
    footer::before {
      background: url('assets/images/tab2-bg.png') center / cover no-repeat !important;
      backdrop-filter: none !important;
      opacity: 1 !important;
    }
    /* È°µÈù¢Êï¥‰ΩìËÉåÊôØ‰∏é FAQ ‰∏ÄËá¥ */
    body {
      background-color: #F4F7FF !important;
      background-image: url('assets/images/tab2-bg.png') !important;
      background-repeat: no-repeat !important;
      background-position: center top !important;
      background-size: cover !important;
      background-attachment: scroll !important; /* ÈÅøÂÖç fixed Âú®Â∞èÂ±è‰∏ãÈÄ†ÊàêÂ∑¶Âè≥ÊíëÂºÄ */
    }
    /* ÂâØÊ†áÈ¢òÔºàh2ÔºâÊ†∑ÂºèÔºåÊåâËßÑËåÉÂ∫îÁî®Âú®Êú¨È°µ */
    main.container h2 {
      font-family: 'Lexend';
      font-style: normal;
      font-weight: 500;
      font-size: 36px;
      line-height: 80px;
      display: flex;
      color: #111111;
    }
  </style>
</head>
<body>
  <header>
    <nav class="container">
      <a class="logo" href="index.html" aria-label="Polly home">
        <img src="assets/images/logo-modern.svg" alt="Polly logo" onerror="this.onerror=null; this.src='assets/images/logo.png';" />
        <span class="logo-text">Polly</span>
      </a>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="faq.html">FAQ</a></li>
        <li><a id="login-link" href="#">Login</a></li>
        <!-- User menu: shown after authentication -->
        <li id="user-menu" style="display:none; position:relative;">
          <button id="avatar-button" class="avatar-btn" aria-label="User menu">
            <img id="avatar-image" alt="User avatar" />
          </button>
          <div id="user-popover" class="user-popover" style="display:none;">
            <a id="menu-assets" class="popover-item" href="assets.html">
              <span class="popover-icon" aria-hidden="true">üë§</span>
              <span class="popover-text">My Assets</span>
            </a>
            <a id="menu-order" class="popover-item" href="order.html">
              <span class="popover-icon" aria-hidden="true">üßæ</span>
              <span class="popover-text">My order</span>
            </a>
            <button id="menu-signout" class="popover-item" type="button">
              <span class="popover-icon" aria-hidden="true">‚Ü©Ô∏è</span>
              <span class="popover-text">Sign out</span>
            </button>
          </div>
        </li>
      </ul>
    </nav>
  </header>

  <main class="container" style="padding: 32px 0; max-width: 900px;">
    <h1 style="margin-bottom: 16px; font-family: 'Lexend'; font-style: normal; font-weight: 500; font-size: 60px; line-height: 80px; text-transform: capitalize; color: #111111;">Privacy Policy</h1>
    <p style="color: var(--secondary-color); margin-bottom: 24px;">This Privacy Policy explains how we collect, use, store, and protect your personal information when you use Polly 3D.</p>

    <section style="margin-bottom: 20px;">
      <h2>1. Information We Collect</h2>
      <p>We may collect information you provide directly (such as email and contact details) and technical data collected automatically to improve services (such as device information, access logs, and cookies).</p>
    </section>

    <section style="margin-bottom: 20px;">
      <h2>2. How We Use Information</h2>
      <p>Your information is used for account management, service delivery and optimization, troubleshooting, notifications, and compliance. We do not use your personal information for purposes unrelated to the service.</p>
    </section>

    <section style="margin-bottom: 20px;">
      <h2>3. Cookies and Third-Party Services</h2>
      <p>We may use cookies to enhance your experience and integrate third-party analytics or storage services (e.g., cloud providers). These services follow their own privacy policies.</p>
    </section>

    <section style="margin-bottom: 20px;">
      <h2>4. Information Sharing</h2>
      <p>We do not share your personal information with non-affiliated third parties unless authorized by you or required by law. Where necessary, we share only the minimum information needed to provide functionality.</p>
    </section>

    <section style="margin-bottom: 20px;">
      <h2>5. Data Security</h2>
      <p>We implement reasonable security measures, including transport encryption, access controls, and data isolation. However, no method of transmission over the internet is completely secure.</p>
    </section>

    <section style="margin-bottom: 20px;">
      <h2>6. Your Rights</h2>
      <p>You may contact us at any time to access, correct, or delete your personal information, or to withdraw consent. Please use the contact details in the footer.</p>
    </section>

    <section style="margin-bottom: 20px;">
      <h2>7. Updates to This Policy</h2>
      <p>We may update this Privacy Policy from time to time. Significant changes will be announced on the site or via email. Continued use after updates indicates your acceptance of the new terms.</p>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="footer-frame">
        <p class="footer-copyright">&copy; 2023 Polly. All rights reserved.</p>
        <div class="footer-links contact-row">
          <a class="footer-email" href="mailto:support@polly3d.com" aria-label="Email support@polly3d.com">support@polly3d.com</a>
          <a class="footer-phone" href="tel:8888888888" aria-label="Phone 888-888-8888">888-888-8888</a>
        </div>
        <div class="footer-list">
          <a class="footer-privacy" href="privacy.html">Privacy Policy</a>
          <a class="footer-terms" href="terms.html">Terms of Use</a>
        </div>
      </div>
    </div>
  </footer>
  
  <!-- Login Modal (Figma-styled) -->
  <div id="login-modal" class="login-overlay">
    <div class="login-card">
      <div class="login-header">
        <span class="login-title">Sign In</span>
        <button id="login-close" aria-label="Close" class="login-close">√ó</button>
      </div>
      <!-- Step 1: method selection -->
      <div id="login-step-select" class="login-section" style="display:block;">
        <button id="select-email-or-phone" class="login-btn neutral figma-cta">
          <span>‚úâÔ∏è</span>
          <span class="gradient-label">Continue with Email/Phone</span>
        </button>
        <button id="select-apple" class="login-btn neutral figma-cta">
          <span class="gradient-icon">Ô£ø</span>
          <span class="gradient-label">Continue with AppleID</span>
        </button>
        <button id="select-google" class="login-btn neutral figma-cta">
          <span class="gradient-icon">G</span>
          <span class="gradient-label">Continue with Google</span>
        </button>
        <div class="login-disclaimer">I agree to the <a href="terms.html">Terms of Use</a> and <a href="privacy.html">Privacy Policy</a></div>
      </div>
      <!-- Step 2: forms -->
      <div id="login-step-forms" class="login-section" style="display:none;">
        <div class="login-row" style="margin-bottom:10px;">
          <button id="login-back" class="login-back">‚Üê</button>
          <div style="flex:1"></div>
        </div>
        <div class="login-tabs">
          <button id="tab-sms-otp" class="login-btn neutral tab">Phone</button>
          <button id="tab-email-otp" class="login-btn neutral tab">Email</button>
        </div>
        <!-- SMS OTP Login -->
        <div id="login-form-sms-otp" class="login-form" style="display:flex;">
          <div class="login-row">
            <select id="sms-country" class="login-select">
              <option value="+886">TW +886</option>
              <option value="+86">CN +86</option>
              <option value="+852">HK +852</option>
              <option value="+81">JP +81</option>
              <option value="+1">US +1</option>
            </select>
            <input id="sms-otp-phone" type="tel" placeholder="Phone number" class="login-input" />
          </div>
          <div class="login-row">
            <input id="sms-otp-code" type="text" placeholder="Verification code" class="login-input" />
            <button id="sms-otp-send" class="login-btn neutral" style="flex:0 0 140px;">Send</button>
          </div>
          <button id="sms-otp-login" class="login-btn primary login-submit" disabled>Continue</button>
        </div>
        <!-- Email OTP Login -->
        <div id="login-form-email-otp" class="login-form">
          <input id="email-otp-email" type="email" placeholder="Email" class="login-input" />
          <div class="login-row">
            <input id="email-otp-code" type="text" placeholder="Verification code" class="login-input" />
            <button id="email-otp-send" class="login-btn neutral" style="flex:0 0 140px;">Send</button>
          </div>
          <button id="email-otp-login" class="login-btn primary login-submit" disabled>Continue</button>
        </div>
        <div class="login-disclaimer">I agree to the <a href="terms.html">Terms of Use</a> and <a href="privacy.html">Privacy Policy</a></div>
      </div>
      <div id="login-error" class="login-error" style="display:none;">Sign in failed, please try again.</div>
    </div>
  </div>

  <!-- Apple Sign-In Web SDK -->
  <script src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js"></script>
  <script>
    (function(){
      try {
        if (window.location.hostname === 'localhost') {
          window.POLLY_AUTH_BASE = 'http://localhost:8787/';
        } else {
          window.POLLY_AUTH_BASE = "https://sh-prd-llm.xverse.cn/yunjing/yunjing-proxy/";
        }
      } catch(_){ }
    })();
  </script>
  <script>
    (function(){
      try {
        if (window.location.hostname === 'localhost') {
          window.POLLY_GOOGLE_CLIENT_ID = '461513375444-op1d4mv4qtj3ccphlhln9prfgpa5ias3.apps.googleusercontent.com';
          window.POLLY_GOOGLE_FORCE_DIRECT = true;
          window.POLLY_GOOGLE_RESPONSE_TYPE = 'token id_token';
          window.POLLY_GOOGLE_SCOPE = 'openid email profile';
        }
      } catch(_){ }
    })();
  </script>
  <script>
    (function(){
      const loginLink = document.getElementById('login-link');
      const loginModal = document.getElementById('login-modal');
      const loginClose = document.getElementById('login-close');
      // ÁÇπÂáªËÉåÊôØÂÖ≥Èó≠
      if (loginModal) {
        loginModal.addEventListener('click', function(e){ if (e.target === loginModal) { loginModal.style.display = 'none'; } });
      }
      const loginStepSelect = document.getElementById('login-step-select');
      const loginStepForms = document.getElementById('login-step-forms');
      const loginBack = document.getElementById('login-back');
      const tabEmailOtp = document.getElementById('tab-email-otp');
      const tabSmsOtp = document.getElementById('tab-sms-otp');
      const formEmailOtp = document.getElementById('login-form-email-otp');
      const formSmsOtp = document.getElementById('login-form-sms-otp');
      const selectApple = document.getElementById('select-apple');
      function showSelect(){ if(loginStepSelect && loginStepForms){ loginStepSelect.style.display='block'; loginStepForms.style.display='none'; } }
      function showForms(){ if(loginStepSelect && loginStepForms){ loginStepSelect.style.display='none'; loginStepForms.style.display='block'; } }
      function showTab(name){ if(formEmailOtp && formSmsOtp){ formEmailOtp.style.display = (name==='email-otp') ? 'flex' : 'none'; formSmsOtp.style.display = (name==='sms-otp') ? 'flex' : 'none'; } }
      function openModal(){ if(loginModal){ loginModal.style.display='flex'; showSelect(); } }
      function closeModal(){ if(loginModal){ loginModal.style.display='none'; } }
      loginLink && loginLink.addEventListener('click', function(e){ e.preventDefault(); openModal(); });
      loginClose && loginClose.addEventListener('click', closeModal);
      loginBack && loginBack.addEventListener('click', showSelect);
      tabEmailOtp && tabEmailOtp.addEventListener('click', function(){ showTab('email-otp'); });
      tabSmsOtp && tabSmsOtp.addEventListener('click', function(){ showTab('sms-otp'); });
      const selectEmailOrPhone = document.getElementById('select-email-or-phone');
      selectEmailOrPhone && selectEmailOrPhone.addEventListener('click', function(){ showForms(); showTab('sms-otp'); });
      // Apple ÁôªÂΩïÔºö‰ºòÂÖàË∞ÉÁî®ÂÆòÊñπ SDKÔºåÂ§±Ë¥•Êó∂ÂõûÈÄÄÂà∞ÂêéÁ´ØÈáçÂÆöÂêë
      function loginWithApple(){
        const base = (function(){
          try {
            var b = window.POLLY_AUTH_BASE || '';
            if (b) {
              if (!/\/$/.test(b)) b += '/';
              return b + 'oauth/apple/start';
            }
          } catch(_){ }
          return (window.POLLY_API && typeof window.POLLY_API.url === 'function') ? window.POLLY_API.url('oauth/apple/start') : '/oauth/apple/start';
        })();
        const redirectUri = window.location.origin + '/';
        const url = base + (base.includes('?') ? '&' : '?') + 'redirect_uri=' + encodeURIComponent(redirectUri);
        try {
          if (window.AppleID && AppleID.auth && typeof AppleID.auth.signIn === 'function' && window.POLLY_APPLE_CLIENT_ID && window.POLLY_APPLE_REDIRECT_URI) {
            AppleID.auth.init({
              clientId: window.POLLY_APPLE_CLIENT_ID,
              scope: window.POLLY_APPLE_SCOPE || 'name email',
              redirectURI: window.POLLY_APPLE_REDIRECT_URI,
              state: window.POLLY_APPLE_STATE || '',
              nonce: window.POLLY_APPLE_NONCE || '',
              usePopup: true
            });
            AppleID.auth.signIn().catch(function(){ window.location.href = url; });
          } else {
            window.location.href = url;
          }
        } catch (_) {
          window.location.href = url;
        }
      }
      selectApple && selectApple.addEventListener('click', loginWithApple);
    })();
  </script>
  <!-- Config + shared auth/UI logic -->
  <script src="js/config.js" defer></script>
  <script src="js/main.js" defer></script>
</body>
</html>